"0","# Customize tooltip"
"0","subset(world_electricity, year == 2023 & type == ""total"") %>%"
"0","  vchart() %>% "
"0","  v_pie(aes(x = source, y = generation)) %>%"
"0","  v_specs_tooltip("
"0","    mark = list("
"0","      content = list("
"0","        list("
"0","          key = JS(""datum => datum['x']""),"
"0","          value = JS(""datum => Math.round(datum['y']) + ' TWh'"")"
"0","        ),"
"0","        list("
"0","          hasShape = FALSE,"
"0","          key = ""Proportion"","
"0","          value = JS(""datum => datum._percent_ + '%'"")"
"0","        )"
"0","      )"
"0","    )"
"0","  )"
